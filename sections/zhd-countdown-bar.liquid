{% stylesheet %}
  .zhd-countdown-bar {
      width: 100%;
      margin: 0;
      padding: 30px 0px;
  }
  /* Create three equal columns that floats next to each other */
  .countdown__column {
      float: left;
      width: 33.33%;
  }
  /* Clear floats after the columns */
  .countdown__row:after {
      content: "";
      display: table;
      clear: both;
  }
  #countdown-timer {
      text-align: center;
      font-size: 42px;
      font-family: sans-serif;
      margin-top: 15px;
  }
  a.offer-btn {
      display: inline-block;
      text-decoration: none;
      font-size: 18px;
      width: 40%;
      padding: 12px 15px;
      margin-top: 15px;
  }
  a.offer-btn:hover {
      background: black !important;
      color: white !important;
      transition: .6s !important;
  }
  .countdown-right {
      text-align: center;
  }
  .countdown-left {
      text-align: center;
  }
  .countdown-left p {
      margin: 0;
      font-size: 18px;
  }
  .countdown-left h2 {
      margin: 0;
      padding: 0;
      font-size: 48px;
  }
  @media only screen and ( max-width: 767px ){
      .countdown__column {
          float: none;
          width: 100%;
      }
      a.offer-btn {
          font-size: 16px;
      }
      .countdown-left p {
          font-size: 16px;
      }
      #countdown-timer {
          font-size: 32px;
      }
      .countdown-left h2 {
          font-size: 38px;
      }
  }
{% endstylesheet %}
    
      
<div class="zhd-countdown-bar" style="background: {{ section.settings.bg_color }};border: 3px solid {{ section.settings.border_color }};color: {{ section.settings.text_color }};">
    <div class="countdown__row">
        <div class="countdown__column">
            <div class="countdown-left">
                <p style="color: {{ section.settings.text_color }};">Limited Time Offer</p>
                <h2 style="color: {{ section.settings.text_color }};">70% OFF</h2>
            </div>
        </div>
        <div class="countdown__column">
            <div class="countdown-middle">
                <div id="countdown-timer"></div>
            </div>
        </div>
        <div class="countdown__column">
            <div class="countdown-right">
                <a href="{{ section.settings.btn_link }}" target="_blank" class="offer-btn" style="color: {{ section.settings.text_color }};border: 1px solid {{ section.settings.border_color }};color: {{ section.settings.text_color }} !important;">Shop Outlet</a>
            </div>
        </div>
    </div>
</div>
  

{% assign countDownDateVal = section.settings.countDownDateValId %}
     


{% schema %}
{
  "name": "ZHD Countdown Bar",
  "class": "zhd__countdownbar",
  "settings": [
    {
      "type": "text",
      "id": "countDownDateValId",
      "label": "Countdown Month",
      "default": "Jan 5, 2024 15:37:25",
      "info": "Follow this structure same as: Jan 5, 2024 15:37:25"
    },
    {
      "type": "url",
      "id": "btn_link",
      "label": "Button Link"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background",
      "default": "#000"
    },
    {
      "type": "color",
      "id": "border_color",
      "label": "Border Color",
      "default": "#555"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#fff"
    }
  ],
  "presets": [
    {
      "name": "ZHD Countdown Bar"
    }
  ]
}
{% endschema %}


<script> 
// Set the date we're counting down to
var countdownDays = '{{ countDownDateVal }}';
  
var countDownDate = new Date(countdownDays).getTime();

// Update the count down every 1 second
    var x = setInterval(function() {

    // Get today's date and time
    var now = new Date().getTime();
    
    // Find the distance between now and the count down date
    var distance = countDownDate - now;
    
    // Time calculations for days, hours, minutes and seconds
    var days = Math.floor(distance / (1000 * 60 * 60 * 24));
    var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    var seconds = Math.floor((distance % (1000 * 60)) / 1000);
    
    // Output the result in an element with id="countdown-timer"
    document.getElementById("countdown-timer").innerHTML = days + "d " + hours + "h "
    + minutes + "m " + seconds + "s ";
    
    // If the count down is over, write some text 
    if (distance < 0) {
    clearInterval(x);
    document.getElementById("countdown-timer").innerHTML = "Sorry, OFFER EXPIRED!";
    }
}, 1000);
</script>

